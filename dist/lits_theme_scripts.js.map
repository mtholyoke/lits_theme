{"version":3,"file":"lits_theme_scripts.js","mappings":"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","sources":["webpack://theme-preprocess/./components/02-compounds/01-pages/page.es6.js","webpack://theme-preprocess/webpack/before-startup","webpack://theme-preprocess/webpack/startup","webpack://theme-preprocess/webpack/after-startup"],"sourcesContent":["/**\n * @file\n * Functions and behaviors for the header of every page.\n */\n\n(($, Drupal) => {\n  Drupal.trehub = Drupal.trehub || {};\n\n  const openAccordion = hash => {\n    let element;\n\n    if (hash.indexOf(\"button\") >= 0) {\n      element = document.getElementById(hash.toString().slice(1));\n    } else {\n      element = document.getElementById(`${hash.toString().slice(1)}-button`);\n    }\n\n    if (element && element.getAttribute(\"aria-expanded\") === \"false\") {\n      element.click();\n    }\n  };\n\n  /**\n   * Empowers the buttons to toggle visibility of expandable elements.\n   *\n   * @type {Drupal~behavior}\n   *\n   * @prop {Drupal~behaviorAttach} attach\n   *   Listen for clicks on expandable elements and call the toggle function.\n   */\n  Drupal.behaviors.trehubExpandableHandler = {\n    attach: context => {\n      const $buttons = $(\".expandable button\", context);\n      $buttons.click(event => {\n        const $container = $(event.target)\n          .parents(\".expandable\")\n          .first();\n        Drupal.trehub.toggleExpandable($container);\n      });\n    }\n  };\n\n  /**\n   * Adds rel=\"noopener\", a11y hidden text, and a CSS class to non-LITS links.\n   *\n   * @type {Drupal~behavior}\n   *\n   * @prop {Drupal~behaviorAttach} attach\n   *   Adds rel=\"noopener\", a11y hidden text, and a CSS class to non-LITS links.\n   */\n  Drupal.behaviors.trehubLinkManager = {\n    attach: context => {\n      $(\"a\", context)\n        .once(\"Drupal.behaviors.trehubLinkManager\")\n        .each((index, a) => {\n          // Grab links with a hostname that doesn't match the window location\n          if (\n            a.hostname &&\n            window.location.hostname.length &&\n            window.location.hostname !== a.hostname\n          ) {\n            // just in case we want to automagically target these later for\n            // some reason\n            $(a).addClass(\"link--external\");\n          }\n          // for links that open in new tabs\n          if ($(a).attr(\"target\") && $(a).attr(\"target\") === \"_blank\") {\n            // add rel=\"noopener\" to external links to close security hole\n            // @see https://developers.google.com/web/tools/lighthouse/audits/noopener\n            if (!$(a).attr(\"rel\") || $(a).attr(\"rel\").length === 0) {\n              $(a).attr(\"rel\", \"noopener\");\n            }\n            // Add a11y text if missing\n            if ($(a).find(\"span.visually-hidden\").length === 0) {\n              $(\n                '<span class=\"visually-hidden\">opens in a new tab</span>'\n              ).appendTo($(a));\n            }\n          }\n        });\n    }\n  };\n\n  /**\n   * Fix focus for skip links and other within-page links.\n   *\n   * Adapted from https://github.com/selfthinker/dokuwiki_template_writr/blob/master/js/skip-link-focus-fix.js\n   *\n   * @type {Drupal~behavior}\n   *\n   * @prop {Drupal~behaviorAttach} attach\n   *   Focuses on element linked to/activated by id\n   */\n  Drupal.behaviors.trehubLinkFocusManager = {\n    attach: context => {\n      $(window).on(\"load\", () => {\n        // Extend the definition of :focusable to include more elements than the default (I think?)\n        $.extend($.expr[\":\"], {\n          focusable(el) {\n            const $element = $(el, context);\n            return (\n              $element.is(\n                \":input:enabled, a[href], area[href], object, [tabindex]\"\n              ) && !$element.is(\":hidden\")\n            );\n          }\n        });\n\n        // if there is a '#' in the URL (someone linking directly to an anchor):\n        if (window.location.hash) {\n          openAccordion(window.location.hash);\n          const scrollMore =\n            !!navigator.userAgent.match(/Trident.*rv:11\\./) ||\n            window.navigator.userAgent.indexOf(\"Edge\") > -1; // IE 11 || Edge\n          Drupal.trehub.scrollToHash(\n            context,\n            $(window.location.hash),\n            scrollMore\n          );\n        }\n      });\n\n      // on click, determine if an anchor and scroll to hash\n      $(window).click(event => {\n        // Determine if the clicked element is an anchor, and if so which.\n        event = event || window.event;\n        let clickTarget = event.target || event.srcElement;\n        let $anchorTarget = null;\n\n        while (clickTarget) {\n          if (clickTarget instanceof HTMLAnchorElement) {\n            let href = clickTarget.getAttribute(\"href\");\n            if (href && href.charAt(0) === \"#\" && href.length > 1) {\n              $anchorTarget = $(href);\n            }\n            break;\n          }\n          clickTarget = clickTarget.parentNode;\n        }\n\n        if ($anchorTarget === null || $anchorTarget.length === 0) {\n          return;\n        }\n\n        // Scroll to hash\n        openAccordion(window.location.hash);\n        Drupal.trehub.scrollToHash(context, $anchorTarget, false);\n      });\n\n      $(window).on(\"hashchange\", () => {\n        if (window.location.hash) {\n          openAccordion(window.location.hash);\n          Drupal.trehub.scrollToHash(context, $(window.location.hash), false);\n        }\n      });\n    }\n  };\n\n  /**\n   * Scrolls to hash\n   *\n   * @param {object} context\n   *   The scoping context provided by Drupal.\n   */\n  Drupal.trehub.scrollToHash = (context, $anchorTarget, needsScrollDelay) => {\n    const $body = $(\"body\", context);\n    if (!$body.hasClass(\"alert-active\")) {\n      // focus the element\n      Drupal.trehub.focusOnElement($anchorTarget);\n\n      // position menu, collapsing the imagebar if needed to prepare to scroll to hash\n      Drupal.trehub.positionMenu(context, true);\n\n      // now set up the final scroll now that the menu is/should be at an appropriate level of collapsiness for the final anchor position\n      let menuHeight = $(\"#search-toggle-container\", context).height();\n      // Menubar has different height markers at different page sizes\n      if ($(window).width() < 900) {\n        menuHeight += $(\"#menubar\", context).height();\n      } else {\n        menuHeight += $(\"#menu-background\", context).height();\n      }\n\n      let toolbarheight = 0;\n      if ($body.hasClass(\"toolbar-fixed\")) {\n        toolbarheight = 39;\n        if (\n          $body.hasClass(\"toolbar-horizontal\") &&\n          $body.hasClass(\"toolbar-tray-open\")\n        ) {\n          toolbarheight = 79;\n        }\n      }\n      menuHeight += toolbarheight;\n\n      // offset().top doesn't seem to work reliably in IE11 on page load\n      const scrollTop =\n        document.getElementById($anchorTarget.attr(\"id\")).offsetTop -\n        menuHeight;\n      let scrollDelay = 0;\n      if (needsScrollDelay) {\n        scrollDelay = 1500;\n      }\n      setTimeout(() => {\n        $(\"html, body\").animate(\n          {\n            // Need both html and body here for cross-browseriness\n            scrollTop\n          },\n          100\n        );\n      }, scrollDelay);\n    }\n  };\n\n  /**\n   * Toggles expandable elements of the DOM in response to button click.\n   *\n   * @param {object} $container\n   *   The jQuery object that contains a button and a content element.\n   * @param {string} action\n   *   One of 'open', 'close', or (default) 'toggle'.\n   */\n  Drupal.trehub.toggleExpandable = ($container, action = \"toggle\") => {\n    const isOpen = $container.hasClass(\"expandable--open\");\n    if (isOpen && action === \"toggle\") {\n      action = \"close\";\n    }\n\n    const $button = $container.find(\"button\");\n    const $content = $container.find(`#${$button.attr(\"aria-controls\")}`);\n\n    let callback = null;\n    if ($container.attr(\"id\") === \"search-toggle-container\") {\n      callback = Drupal.trehub.positionMenu;\n    }\n\n    if (action === \"close\") {\n      $button.attr(\"aria-expanded\", \"false\").attr(\"aria-pressed\", \"false\");\n      $(\"header\").css(\"overflow\", \"hidden\");\n      $content.attr(\"aria-hidden\", \"true\").slideUp(400, () => {\n        $container.removeClass(\"expandable--open\");\n        $(\"header\").css(\"overflow\", \"auto\");\n        if (callback != null) {\n          callback.call($(document), false);\n        }\n      });\n    } else {\n      $button.attr(\"aria-expanded\", \"true\").attr(\"aria-pressed\", \"true\");\n      $(\"header\").css(\"overflow\", \"hidden\");\n      $content.attr(\"aria-hidden\", \"false\").slideDown(400, () => {\n        $(\"header\").css(\"overflow\", \"auto\");\n        if (callback != null) {\n          callback.call($(document), false);\n        }\n      });\n      // Don't wait for it to finish sliding before assigning open\n      // class/positioning to avoid the content visibly rearranging\n      $container.addClass(\"expandable--open\");\n    }\n  };\n\n  /**\n   * Fix focus for skip links and other within-page links.\n   *\n   * Adapted from https://github.com/selfthinker/dokuwiki_template_writr/blob/master/js/skip-link-focus-fix.js\n   *\n   * Focuses on an element\n   *\n   * @param {object} $element\n   *   The jQuery object that should receive focus\n   * @param {string} action\n   *   One of 'open', 'close', or (default) 'toggle'.\n   */\n  Drupal.trehub.focusOnElement = $element => {\n    if (!$element.length) {\n      return;\n    }\n    if (!$element.is(\":focusable\")) {\n      // Add tabindex to make focusable and remove again.\n      $element.attr(\"tabindex\", -1).on(\"blur focusout\", () => {\n        $(this).removeAttr(\"tabindex\");\n      });\n    }\n    $element.focus();\n  };\n\n  /**\n   * Add returnTo to the Shib login link in the footer\n   *   *\n   * @type {Drupal~behavior}\n   *\n   * @prop {Drupal~behaviorAttach} attach\n   *   Focuses on element linked to/activated by id\n   */\n  Drupal.behaviors.trehubShibLoginLink = {\n    attach: context => {\n        var shibLoginLinks = document.querySelectorAll(\"#block-trehub-shibloginlink a\");\n        var currentPath = location.pathname.substr(1);\n        if (currentPath && currentPath != '') {\n          shibLoginLinks.forEach((a) => {\n            a.href = a.href + '?returnTo=' + currentPath;\n          });\n        }\n    }\n  };\n\n  /**\n   * Expand study space filters if the window is desktop-sized\n   *\n   * @type {Drupal~behavior}\n   *\n   * @prop {Drupal~behaviorAttach} attach\n   *   Adjusts collapsiness of the filters\n   */\n  Drupal.behaviors.trehubStudySpaceFilterSize = {\n  attach: context => {\n    const $studySpaceFinderContainer = $(\".study-space-finder\", context);\n    const windowWidth = $(window).width();\n    if ($studySpaceFinderContainer.length > 0 && windowWidth >= 900) {\n      $(window).on(\"load\", () => {\n        // Change toggle expandable\n        $studySpaceFinderContainer.toggleClass(\"expandable--open\");\n        // Toggle aria-expanded and aria-pressed for button\n        $(\".filters-title button\", context).attr(\"aria-expanded\", \"true\");\n        $(\".filters-title button\", context).attr(\"aria-pressed\", \"true\");\n        // Show options and toggle aria\n        $(\".filter-options\", context).attr(\"style\", \"\");\n        $(\".filter-options\", context).attr(\"aria-hidden\", \"false\");\n      });\n    }\n  }\n  };\n})(jQuery, Drupal);\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = {};\n__webpack_modules__[0]();\n",""],"names":["$","Drupal","trehub","openAccordion","hash","element","indexOf","document","getElementById","toString","slice","getAttribute","click","behaviors","trehubExpandableHandler","attach","context","$buttons","event","$container","target","parents","first","toggleExpandable","trehubLinkManager","once","each","index","a","hostname","window","location","length","addClass","attr","find","appendTo","trehubLinkFocusManager","on","extend","expr","focusable","el","$element","is","scrollMore","navigator","userAgent","match","scrollToHash","clickTarget","srcElement","$anchorTarget","HTMLAnchorElement","href","charAt","parentNode","needsScrollDelay","$body","hasClass","focusOnElement","positionMenu","menuHeight","height","width","toolbarheight","scrollTop","offsetTop","scrollDelay","setTimeout","animate","action","isOpen","$button","$content","callback","css","slideUp","removeClass","call","slideDown","removeAttr","focus","trehubShibLoginLink","shibLoginLinks","querySelectorAll","currentPath","pathname","substr","forEach","trehubStudySpaceFilterSize","$studySpaceFinderContainer","windowWidth","toggleClass","jQuery"],"sourceRoot":""}