{"version":3,"file":"lits_theme.js","mappings":"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AAC,CAACC,IAAI,CAAC,CAAC,CAAC/B,MAAM,KAAK,CAAC,EAAE;cACrC2B,IAAI,CACDG,MAAM,CAAC,CAAC,CACRC,IAAI,CAAC,CAAC,CACNnB,IAAI,CAAC,KAAK,CAAC,CACXC,KAAK,CAAC,CAAC;YACZ,CAAC,MAAM;cACLe,KAAK,CAAChB,IAAI,CAAC,aAAa,CAAC,CAACC,KAAK,CAAC,CAAC;YACnC;YACA;UAEF,KAAK,YAAY;YACf,IAAIc,IAAI,CAACG,MAAM,CAAC,CAAC,CAACE,IAAI,CAAC,CAAC,CAAChC,MAAM,KAAK,CAAC,EAAE;cACrC2B,IAAI,CACDG,MAAM,CAAC,CAAC,CACRE,IAAI,CAAC,CAAC,CACNpB,IAAI,CAAC,KAAK,CAAC,CACXC,KAAK,CAAC,CAAC;YACZ,CAAC,MAAM;cACLe,KAAK,CAAChB,IAAI,CAAC,cAAc,CAAC,CAACC,KAAK,CAAC,CAAC;YACpC;YACA;UAEF;YACE;QACJ;MACF,CAAC,CAAC;IACJ;EACF,CAAC;AACH,CAAC,EAAEL,MAAM,EAAExB,MAAM,CAAC,C;;;;;AC5FlB;AACA;AACA;AACA;;AAEA,CAAC,CAACD,CAAC,EAAEC,MAAM,KAAK;EACdA,MAAM,CAACC,UAAU,GAAGD,MAAM,CAACC,UAAU,IAAI,CAAC,CAAC;;EAE3C;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;;EAEA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;;EAEA;EACA;EACA;AACF,CAAC,EAAEuB,MAAM,EAAExB,MAAM,CAAC,C;;;;;AChOlB;AACA;AACA;AACA;;AAEA,CAAC,CAACD,CAAC,EAAEC,MAAM,KAAK;EACdA,MAAM,CAACC,UAAU,GAAGD,MAAM,CAACC,UAAU,IAAI,CAAC,CAAC;;EAE3C;EACA;;EAEA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;;EAEA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;;EAEA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AACF,CAAC,EAAEuB,MAAM,EAAExB,MAAM,CAAC,C","sources":["webpack://theme-preprocess/./components/02-compounds/paragraphs/system-status-group/system-status-group.js","webpack://theme-preprocess/./components/02-compounds/paragraphs/tab-group/tab-group.js","webpack://theme-preprocess/./components/02-compounds/site/header.js","webpack://theme-preprocess/./components/03-pages/page/page.js"],"sourcesContent":["/**\n * @file\n * Functions and behaviors for the system status page\n */\n\n(($, Drupal) => {\n  Drupal.lits_theme = Drupal.lits_theme || {};\n\n  /**\n   * Prints out the page load time.\n   *\n   * @type {Drupal~behavior}\n   *\n   * @prop {Drupal~behaviorAttach} attach\n   *   Print out the page load time.\n   */\n  Drupal.behaviors.litsThemeSystemStatusLoaded = {\n    attach: context => {\n      const $lastLoadedElement = $(\"#last-loaded\", context);\n      const dayOptions = {\n        weekday: \"long\",\n        year: \"numeric\",\n        month: \"long\",\n        day: \"numeric\"\n      };\n      const timeOptions = {\n        hour: \"numeric\",\n        minute: \"2-digit\",\n        timeZoneName: \"short\"\n      };\n\n      if ($lastLoadedElement.length > 0) {\n        const lastLoaded = new Date();\n        const llDate = lastLoaded.toLocaleDateString(\"en-US\", dayOptions)\n        const llTime = lastLoaded.toLocaleTimeString(\"en-US\", timeOptions)\n        $lastLoadedElement.append(`<span>${llDate} at ${llTime}</span>`);\n      }\n    }\n  };\n})(jQuery, Drupal);\n","/**\n * @file\n * A JavaScript file containing the functionality for header elements.\n *\n * Adapted from http://simplyaccessible.com/article/danger-aria-tabs/\n */\n\n(($, Drupal) => {\n  /**\n   * Controls tabs for the Tab Group paragraph type.\n   *\n   * @type {Drupal~behavior}\n   *\n   * @prop {Drupal~behaviorAttach} attach\n   *   Listen for clicks and close any non-accordions that are open.\n   */\n  Drupal.behaviors.litsThemeTabGroupHandler = {\n    attach: context => {\n      const $tabLists = $(\".tab-group ul.tabs__nav\", context);\n      const $tabLinks = $tabLists.find(\"a\");\n      $tabLinks.click(event => {\n        const $target = $(event.target);\n        const $tabGroup = $target.parents(\"div.tab-group\").first();\n        const $tabsList = $tabGroup.find(\"ul.tabs__nav\");\n\n        // Turn off the previous tab.\n        $tabsList\n          .find(\"li.tabs__item--open\")\n          .removeClass(\"tabs__item--open\")\n          .find(\"a\")\n          .attr(\"aria-selected\", \"false\")\n          .removeClass(\"is-active\");\n        $tabGroup\n          .find(\".tabs__content--open\")\n          .removeClass(\"tabs__content--open\")\n          .attr(\"aria-hidden\", \"true\")\n          .children(\"h2\")\n          .attr(\"tabindex\", -1);\n\n        // Turn on the new tab.\n        $target.attr(\"aria-selected\", \"true\").addClass(\"is-active\");\n        $target\n          .parents(\".tabs__item\")\n          .first()\n          .addClass(\"tabs__item--open\");\n        $tabGroup\n          .find(`${$target.attr(\"href\")}__content`)\n          .attr(\"aria-hidden\", \"false\")\n          .addClass(\"tabs__content--open\")\n          .children(\"h2\")\n          .attr(\"tabindex\", 0)\n          .focus();\n\n        // Donâ€™t move the browser window.\n        return false;\n      });\n\n      // Handle keyboard navigation through tabs.\n      $tabLists.delegate(\"a\", \"keydown\", event => {\n        const $tab = $(event.target);\n        const $tabs = $tab.parents(\".tabs__nav\").first();\n        switch (event.key) {\n          case \"ArrowLeft\":\n            if ($tab.parent().prev().length !== 0) {\n              $tab\n                .parent()\n                .prev()\n                .find(\"> a\")\n                .click();\n            } else {\n              $tabs.find(\"li:last > a\").click();\n            }\n            break;\n\n          case \"ArrowRight\":\n            if ($tab.parent().next().length !== 0) {\n              $tab\n                .parent()\n                .next()\n                .find(\"> a\")\n                .click();\n            } else {\n              $tabs.find(\"li:first > a\").click();\n            }\n            break;\n\n          default:\n            break;\n        }\n      });\n    }\n  };\n})(jQuery, Drupal);\n","/**\n * @file\n * Functions and behaviors for the header of every page.\n */\n\n(($, Drupal) => {\n  Drupal.lits_theme = Drupal.lits_theme || {};\n\n  // /**\n  //  * Hides hours and main menu closables on click elsewhere.\n  //  *\n  //  * @type {Drupal~behavior}\n  //  *\n  //  * @prop {Drupal~behaviorAttach} attach\n  //  *   Listen for clicks and close any non-accordions that are open.\n  //  */\n  // Drupal.behaviors.litsThemeClosableHandler = {\n  //   attach: context => {\n  //     const $document = $(document, context);\n  //     $document.click(event => {\n  //       const $closest = $(event.target).closest(\".expandable\");\n  //       const $expandables = $(\".expandable--open\")\n  //         .not(\".accordion\")\n  //         .not(\"#search-toggle-container\")\n  //         .not($closest);\n  //       if ($expandables.length) {\n  //         $expandables.each((i, element) => {\n  //           Drupal.lits_theme.toggleExpandable($(element), \"close\");\n  //         });\n  //       }\n  //     });\n  //   }\n  // };\n\n  // /**\n  //  * Makes sure that the Research and Places submenus stay on the screen.\n  //  *\n  //  * @type {Drupal~behavior}\n  //  *\n  //  * @prop {Drupal~behaviorAttach} attach\n  //  *   Calls the resize function on DOM ready and window resize.\n  //  */\n  // Drupal.behaviors.litsThemeMainMenuDropdownPositioning = {\n  //   attach: context => {\n  //     // attach() is fired by drupal.js inside a $(document).ready()\n  //     Drupal.lits_theme.mainMenuDropdownPositioning(context);\n\n  //     $(window).resize(() => {\n  //       Drupal.lits_theme.mainMenuDropdownPositioning(context);\n  //     });\n  //   }\n  // };\n\n  // /**\n  //  * Toggles the visibility of the main menu on mobile.\n  //  *\n  //  * @type {Drupal~behavior}\n  //  *\n  //  * @prop {Drupal~behaviorAttach} attach\n  //  *   Calls the resize function on window resize.\n  //  */\n  // Drupal.behaviors.litsThemeMainMenuMobile = {\n  //   attach: context => {\n  //     const $toggleExpand = $(\"#main-menu-toggle-expand\", context);\n  //     const $menuWrapper = $(\"#main-nav\", context);\n  //     $toggleExpand.click(() => {\n  //       $toggleExpand.toggleClass(\"toggle-expand--open\");\n  //       $menuWrapper.toggleClass(\"main-nav--open\").slideToggle();\n  //     });\n  //     $(window).resize(() => {\n  //       if ($(window).width() >= 900) {\n  //         $toggleExpand.removeClass(\"toggle-expand--open\");\n  //         $menuWrapper.removeClass(\"main-nav--open\").attr(\"style\", \"\");\n  //       }\n  //     });\n  //   }\n  // };\n\n  // /**\n  //  * Makes the menubar sticky on scroll.\n  //  *\n  //  * @type {Drupal~behavior}\n  //  *\n  //  * @prop {Drupal~behaviorAttach} attach\n  //  *   Tests the current amount of scroll and assigns a sticky class.\n  //  */\n  // Drupal.behaviors.litsThemeStickyHeader = {\n  //   attach: context => {\n  //     Drupal.lits_theme.positionMenu(context, false);\n\n  //     $(document).scroll(() => {\n  //       Drupal.lits_theme.positionMenu(context, false);\n  //     });\n\n  //     $(window).resize(() => {\n  //       Drupal.lits_theme.positionMenu(context, false);\n  //     });\n  //   }\n  // };\n\n  // /**\n  //  * Makes sure that the Research and Places submenus stay on the screen.\n  //  *\n  //  * @param {object} context\n  //  *   The scoping context provided by Drupal.\n  //  */\n  // Drupal.lits_theme.mainMenuDropdownPositioning = context => {\n  //   // Position the submenus for the middle menu items in a centered location\n  //   // below their parent\n  //   const $body = $(\"body\", context);\n  //   if ($(window).width() < 900) {\n  //     $(\"#main-nav .main-menu .main-menu__item--root.expandable\", context).each(\n  //       (i, element) => {\n  //         const $subMenu = $(element).find(\".main-submenu--wrapper\");\n  //         $subMenu.css(\"margin-left\", \"\");\n  //         if ($body.hasClass(\"alert-active\") && false) {\n  //           $subMenu.css(\"position\", \"static\").css(\"z-index\", \"0\");\n  //         }\n  //       }\n  //     );\n  //     return;\n  //   }\n\n  //   // Gather main (parent) menu statistics.\n  //   const menuWidth = $(\"#main-nav .main-menu\", context).width();\n  //   const numMenuItems = $(\n  //     \"#main-nav .main-menu .main-menu__item--root.expandable\",\n  //     context\n  //   ).length;\n\n  //   // Iterate over the main (parent) menu containers.\n  //   $(\"#main-nav .main-menu .main-menu__item--root.expandable\", context).each(\n  //     (i, element) => {\n  //       // each() is zero indexed, but for mathy purposes we need to be one indexed\n  //       const index = i + 1;\n\n  //       // Calculate the positions of the center and corner of the main (parent) menu item.\n  //       const menuItemRight = (index / numMenuItems) * menuWidth;\n\n  //       // Grab the sub menu and find its corners so we can make sure it stays on screen.\n  //       const buttonWidth = $(element).width();\n  //       const $subMenu = $(element).find(\".main-submenu--wrapper\");\n  //       const subMenuCenter = $subMenu.width() / 2;\n  //       const subMenuLeftMargin = -1 * subMenuCenter + buttonWidth / 2;\n  //       const subMenuLeft = menuItemRight - buttonWidth + subMenuLeftMargin;\n  //       const subMenuRight = subMenuLeft + $subMenu.width();\n\n  //       // Reset before recalculating position.\n  //       $subMenu.css(\"margin-left\", \"\");\n  //       if ($body.hasClass(\"alert-active\") && false) {\n  //         $subMenu.css(\"position\", \"absolute\").css(\"z-index\", \"2\"); // z-index to lift above the control on the select box on LITS search on the homepage\n  //       } else {\n  //         $subMenu.css(\"position\", \"\").css(\"z-index\", \"\");\n  //       }\n\n  //       // Decide if either side of the menu would be offscreen by default,\n  //       // and if so, place it on the appropriate edge.\n  //       if (subMenuLeft < 0) {\n  //         // TODO: instead try to figure out offset between 0 and the window left edge?\n  //         $subMenu.css(\"margin-left\", 0);\n  //         return;\n  //       }\n  //       if (subMenuRight > menuWidth) {\n  //         const overflow = -1 * (subMenuRight - menuWidth);\n  //         $subMenu.css(\"margin-left\", overflow + subMenuLeftMargin);\n  //         return;\n  //       }\n\n  //       // Otherwise, put the submenu in the default centered position.\n  //       $subMenu.css(\"margin-left\", subMenuLeftMargin);\n  //     }\n  //   );\n  // };\n\n  // /**\n  //  * Positions the main menu according to the current position of main (or\n  //  * sticks it to the logobar).\n  //  *\n  //  * @param {object} context\n  //  *   The scoping context provided by Drupal.\n  //  * @param {boolean} collapsed\n  //  *   Whether the imagebar should just be collapsed or not (relevant for anchor scrolling)\n  //  */\n  // Drupal.lits_theme.positionMenu = (context, collapsed) => {\n  //   const $body = $(\"body\", context);\n  //   if (!$body.hasClass(\"alert-active\")) {\n  //     // searchbar should have a height equal to the distance to main, with a max of 208px\n  //     let top = 0;\n  //     if ($(\"#main-content\", context).offset()) {\n  //       top = $(\"#main-content\", context).offset().top; //not always defined (eg search result page?)\n  //     }\n  //     top =\n  //       top -\n  //       $(window).scrollTop() -\n  //       $(\"#logobar\", context).height() -\n  //       $(\"#menu-background\", context).height();\n\n  //     if ($(window).width() < 900 || collapsed) {\n  //       top = 0;\n  //     }\n  //     // Drupal toolbar if logged in:\n  //     let toolbarheight = 0;\n  //     if ($body.hasClass(\"toolbar-fixed\")) {\n  //       toolbarheight = 39;\n  //       if (\n  //         $body.hasClass(\"toolbar-horizontal\") &&\n  //         $body.hasClass(\"toolbar-tray-open\")\n  //       ) {\n  //         toolbarheight = 79;\n  //       }\n\n  //       if ($body.hasClass(\"node-preview-enabled\")) {\n  //         toolbarheight += $(\".node-preview-container\", context).height();\n  //       }\n  //     }\n  //     top -= toolbarheight;\n\n  //     if (top < $(\"#searchbar-background\", context).height()) {\n  //       top = $(\"#searchbar-background\", context).height();\n  //     }\n\n  //     $(\"#searchbar\", context).css(\"min-height\", top);\n  //   }\n  // };\n})(jQuery, Drupal);\n","/**\n * @file\n * Functions and behaviors for the header of every page.\n */\n\n(($, Drupal) => {\n  Drupal.lits_theme = Drupal.lits_theme || {};\n\n  // const openAccordion = hash => {\n  //   let element;\n\n  //   if (hash.indexOf(\"button\") >= 0) {\n  //     element = document.getElementById(hash.toString().slice(1));\n  //   } else {\n  //     element = document.getElementById(`${hash.toString().slice(1)}-button`);\n  //   }\n\n  //   if (element && element.getAttribute(\"aria-expanded\") === \"false\") {\n  //     element.click();\n  //   }\n  // };\n\n  // /**\n  //  * Empowers the buttons to toggle visibility of expandable elements.\n  //  *\n  //  * @type {Drupal~behavior}\n  //  *\n  //  * @prop {Drupal~behaviorAttach} attach\n  //  *   Listen for clicks on expandable elements and call the toggle function.\n  //  */\n  // Drupal.behaviors.litsThemeExpandableHandler = {\n  //   attach: context => {\n  //     const $buttons = $(\".expandable button\", context);\n  //     $buttons.click(event => {\n  //       const $container = $(event.target)\n  //         .parents(\".expandable\")\n  //         .first();\n  //       Drupal.lits_theme.toggleExpandable($container);\n  //     });\n  //   }\n  // };\n\n  // /**\n  //  * Adds rel=\"noopener\", a11y hidden text, and a CSS class to non-LITS links.\n  //  *\n  //  * @type {Drupal~behavior}\n  //  *\n  //  * @prop {Drupal~behaviorAttach} attach\n  //  *   Adds rel=\"noopener\", a11y hidden text, and a CSS class to non-LITS links.\n  //  */\n  // Drupal.behaviors.litsThemeLinkManager = {\n  //   attach: context => {\n  //     $(\"a\", context)\n  //       .once(\"Drupal.behaviors.litsThemeLinkManager\")\n  //       .each((index, a) => {\n  //         // Grab links with a hostname that doesn't match the window location\n  //         if (\n  //           a.hostname &&\n  //           window.location.hostname.length &&\n  //           window.location.hostname !== a.hostname\n  //         ) {\n  //           // just in case we want to automagically target these later for\n  //           // some reason\n  //           $(a).addClass(\"link--external\");\n  //         }\n  //         // for links that open in new tabs\n  //         if ($(a).attr(\"target\") && $(a).attr(\"target\") === \"_blank\") {\n  //           // add rel=\"noopener\" to external links to close security hole\n  //           // @see https://developers.google.com/web/tools/lighthouse/audits/noopener\n  //           if (!$(a).attr(\"rel\") || $(a).attr(\"rel\").length === 0) {\n  //             $(a).attr(\"rel\", \"noopener\");\n  //           }\n  //           // Add a11y text if missing\n  //           if ($(a).find(\"span.visually-hidden\").length === 0) {\n  //             $(\n  //               '<span class=\"visually-hidden\">opens in a new tab</span>'\n  //             ).appendTo($(a));\n  //           }\n  //         }\n  //       });\n  //   }\n  // };\n\n  // /**\n  //  * Fix focus for skip links and other within-page links.\n  //  *\n  //  * Adapted from https://github.com/selfthinker/dokuwiki_template_writr/blob/master/js/skip-link-focus-fix.js\n  //  *\n  //  * @type {Drupal~behavior}\n  //  *\n  //  * @prop {Drupal~behaviorAttach} attach\n  //  *   Focuses on element linked to/activated by id\n  //  */\n  // Drupal.behaviors.litsThemeLinkFocusManager = {\n  //   attach: context => {\n  //     $(window).on(\"load\", () => {\n  //       // Extend the definition of :focusable to include more elements than the default (I think?)\n  //       $.extend($.expr[\":\"], {\n  //         focusable(el) {\n  //           const $element = $(el, context);\n  //           return (\n  //             $element.is(\n  //               \":input:enabled, a[href], area[href], object, [tabindex]\"\n  //             ) && !$element.is(\":hidden\")\n  //           );\n  //         }\n  //       });\n\n  //       // if there is a '#' in the URL (someone linking directly to an anchor):\n  //       if (window.location.hash) {\n  //         openAccordion(window.location.hash);\n  //         const scrollMore =\n  //           !!navigator.userAgent.match(/Trident.*rv:11\\./) ||\n  //           window.navigator.userAgent.indexOf(\"Edge\") > -1; // IE 11 || Edge\n  //         Drupal.lits_theme.scrollToHash(\n  //           context,\n  //           $(window.location.hash),\n  //           scrollMore\n  //         );\n  //       }\n  //     });\n\n  //     // on click, determine if an anchor and scroll to hash\n  //     $(window).click(event => {\n  //       // Determine if the clicked element is an anchor, and if so which.\n  //       event = event || window.event;\n  //       let clickTarget = event.target || event.srcElement;\n  //       let $anchorTarget = null;\n\n  //       while (clickTarget) {\n  //         if (clickTarget instanceof HTMLAnchorElement) {\n  //           let href = clickTarget.getAttribute(\"href\");\n  //           if (href && href.charAt(0) === \"#\" && href.length > 1) {\n  //             $anchorTarget = $(href);\n  //           }\n  //           break;\n  //         }\n  //         clickTarget = clickTarget.parentNode;\n  //       }\n\n  //       if ($anchorTarget === null || $anchorTarget.length === 0) {\n  //         return;\n  //       }\n\n  //       // Scroll to hash\n  //       openAccordion(window.location.hash);\n  //       Drupal.lits_theme.scrollToHash(context, $anchorTarget, false);\n  //     });\n\n  //     $(window).on(\"hashchange\", () => {\n  //       if (window.location.hash) {\n  //         openAccordion(window.location.hash);\n  //         Drupal.lits_theme.scrollToHash(context, $(window.location.hash), false);\n  //       }\n  //     });\n  //   }\n  // };\n\n  // /**\n  //  * Scrolls to hash\n  //  *\n  //  * @param {object} context\n  //  *   The scoping context provided by Drupal.\n  //  */\n  // Drupal.lits_theme.scrollToHash = (context, $anchorTarget, needsScrollDelay) => {\n  //   const $body = $(\"body\", context);\n  //   if (!$body.hasClass(\"alert-active\") && false) {\n  //     // focus the element\n  //     Drupal.lits_theme.focusOnElement($anchorTarget);\n\n  //     // position menu, collapsing the imagebar if needed to prepare to scroll to hash\n  //     Drupal.lits_theme.positionMenu(context, true);\n\n  //     // now set up the final scroll now that the menu is/should be at an appropriate level of collapsiness for the final anchor position\n  //     let menuHeight = $(\"#search-toggle-container\", context).height();\n  //     // Menubar has different height markers at different page sizes\n  //     if ($(window).width() < 900) {\n  //       menuHeight += $(\"#menubar\", context).height();\n  //     } else {\n  //       menuHeight += $(\"#menu-background\", context).height();\n  //     }\n\n  //     let toolbarheight = 0;\n  //     if ($body.hasClass(\"toolbar-fixed\")) {\n  //       toolbarheight = 39;\n  //       if (\n  //         $body.hasClass(\"toolbar-horizontal\") &&\n  //         $body.hasClass(\"toolbar-tray-open\")\n  //       ) {\n  //         toolbarheight = 79;\n  //       }\n  //     }\n  //     menuHeight += toolbarheight;\n\n  //     // offset().top doesn't seem to work reliably in IE11 on page load\n  //     const scrollTop =\n  //       document.getElementById($anchorTarget.attr(\"id\")).offsetTop -\n  //       menuHeight;\n  //     let scrollDelay = 0;\n  //     if (needsScrollDelay) {\n  //       scrollDelay = 1500;\n  //     }\n  //     setTimeout(() => {\n  //       $(\"html, body\").animate(\n  //         {\n  //           // Need both html and body here for cross-browseriness\n  //           scrollTop\n  //         },\n  //         100\n  //       );\n  //     }, scrollDelay);\n  //   }\n  // };\n\n  // /**\n  //  * Toggles expandable elements of the DOM in response to button click.\n  //  *\n  //  * @param {object} $container\n  //  *   The jQuery object that contains a button and a content element.\n  //  * @param {string} action\n  //  *   One of 'open', 'close', or (default) 'toggle'.\n  //  */\n  // Drupal.lits_theme.toggleExpandable = ($container, action = \"toggle\") => {\n  //   const isOpen = $container.hasClass(\"expandable--open\");\n  //   if (isOpen && action === \"toggle\") {\n  //     action = \"close\";\n  //   }\n\n  //   const $button = $container.find(\"button\");\n  //   const $content = $container.find(`#${$button.attr(\"aria-controls\")}`);\n\n  //   let callback = null;\n  //   if ($container.attr(\"id\") === \"search-toggle-container\") {\n  //     callback = Drupal.lits_theme.positionMenu;\n  //   }\n\n  //   if (action === \"close\") {\n  //     $button.attr(\"aria-expanded\", \"false\").attr(\"aria-pressed\", \"false\");\n  //     $(\"header\").css(\"overflow\", \"hidden\");\n  //     $content.attr(\"aria-hidden\", \"true\").slideUp(400, () => {\n  //       $container.removeClass(\"expandable--open\");\n  //       $(\"header\").css(\"overflow\", \"auto\");\n  //       if (callback != null) {\n  //         callback.call($(document), false);\n  //       }\n  //     });\n  //   } else {\n  //     $button.attr(\"aria-expanded\", \"true\").attr(\"aria-pressed\", \"true\");\n  //     $(\"header\").css(\"overflow\", \"hidden\");\n  //     $content.attr(\"aria-hidden\", \"false\").slideDown(400, () => {\n  //       $(\"header\").css(\"overflow\", \"auto\");\n  //       if (callback != null) {\n  //         callback.call($(document), false);\n  //       }\n  //     });\n  //     // Don't wait for it to finish sliding before assigning open\n  //     // class/positioning to avoid the content visibly rearranging\n  //     $container.addClass(\"expandable--open\");\n  //   }\n  // };\n\n  // /**\n  //  * Fix focus for skip links and other within-page links.\n  //  *\n  //  * Adapted from https://github.com/selfthinker/dokuwiki_template_writr/blob/master/js/skip-link-focus-fix.js\n  //  *\n  //  * Focuses on an element\n  //  *\n  //  * @param {object} $element\n  //  *   The jQuery object that should receive focus\n  //  * @param {string} action\n  //  *   One of 'open', 'close', or (default) 'toggle'.\n  //  */\n  // Drupal.lits_theme.focusOnElement = $element => {\n  //   if (!$element.length) {\n  //     return;\n  //   }\n  //   if (!$element.is(\":focusable\")) {\n  //     // Add tabindex to make focusable and remove again.\n  //     $element.attr(\"tabindex\", -1).on(\"blur focusout\", () => {\n  //       $(this).removeAttr(\"tabindex\");\n  //     });\n  //   }\n  //   $element.focus();\n  // };\n\n  // /**\n  //  * Add returnTo to the Shib login link in the footer\n  //  *   *\n  //  * @type {Drupal~behavior}\n  //  *\n  //  * @prop {Drupal~behaviorAttach} attach\n  //  *   Focuses on element linked to/activated by id\n  //  */\n  // Drupal.behaviors.litsThemeShibLoginLink = {\n  //   attach: context => {\n  //       var shibLoginLinks = document.querySelectorAll(\"#block-lits-theme-shibloginlink a\");\n  //       var currentPath = location.pathname.substr(1);\n  //       if (currentPath && currentPath != '') {\n  //         shibLoginLinks.forEach((a) => {\n  //           a.href = a.href + '?returnTo=' + currentPath;\n  //         });\n  //       }\n  //   }\n  // };\n\n  // /**\n  //  * Expand study space filters if the window is desktop-sized\n  //  *\n  //  * @type {Drupal~behavior}\n  //  *\n  //  * @prop {Drupal~behaviorAttach} attach\n  //  *   Adjusts collapsiness of the filters\n  //  */\n  // Drupal.behaviors.litsThemeStudySpaceFilterSize = {\n  // attach: context => {\n  //   const $studySpaceFinderContainer = $(\".study-space-finder\", context);\n  //   const windowWidth = $(window).width();\n  //   if ($studySpaceFinderContainer.length > 0 && windowWidth >= 900) {\n  //     $(window).on(\"load\", () => {\n  //       // Change toggle expandable\n  //       $studySpaceFinderContainer.toggleClass(\"expandable--open\");\n  //       // Toggle aria-expanded and aria-pressed for button\n  //       $(\".filters-title button\", context).attr(\"aria-expanded\", \"true\");\n  //       $(\".filters-title button\", context).attr(\"aria-pressed\", \"true\");\n  //       // Show options and toggle aria\n  //       $(\".filter-options\", context).attr(\"style\", \"\");\n  //       $(\".filter-options\", context).attr(\"aria-hidden\", \"false\");\n  //     });\n  //   }\n  // }\n  // };\n})(jQuery, Drupal);\n"],"names":["$","Drupal","lits_theme","behaviors","litsThemeSystemStatusLoaded","attach","context","$lastLoadedElement","dayOptions","weekday","year","month","day","timeOptions","hour","minute","timeZoneName","length","lastLoaded","Date","llDate","toLocaleDateString","llTime","toLocaleTimeString","append","jQuery","litsThemeTabGroupHandler","$tabLists","$tabLinks","find","click","event","$target","target","$tabGroup","parents","first","$tabsList","removeClass","attr","children","addClass","focus","delegate","$tab","$tabs","key","parent","prev","next"],"sourceRoot":""}